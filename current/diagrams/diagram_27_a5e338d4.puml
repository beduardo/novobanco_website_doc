@startuml
skinparam activityShape octagon

start

:Operação realizada\nno canal web;

:BFF processa\noperação;

if (Operação requer\nnotificação?) then (sim)
  :BFF envia evento\npara Backend API;

  :Backend API aciona\nserviço de notificações;

  fork
    :SMS Gateway;
  fork again
    :Push Service;
  fork again
    :Email Service;
  end fork

  :Notificação enviada\nao utilizador;
else (não)
endif

:Resposta ao\ncanal web;

stop

@enduml
